<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="His name is Robert Paulson">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Anal expulsiveness</title>
    <link rel="shortcut icon" href="/static/img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="alternate" href="/recent.atom" type="application/atom+xml" title="Updates from Robert">
</head>
<body>

    
    <div class="banner" style="background-image:url('/static/img/bgs/bg10.jpg')">
        <h1 class="title">Anal expulsiveness</h1>
    </div>

    <div class="container">

        <!--[if lt IE 7]>
            <p class="msg">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div class="description col-sm-3 hidden-xs">
            <div class="description-inner-wrapper">
                <h2>{ meta }</h2>
                <p>
                    Shotguns and terminators out of stock and budget, three students from
                    <a href="http://www.eurecom.fr/">Eurecom</a> try to stay ahead of <a href="/about.html">the game</a> in the war against the machines
                    by building their own killer robots. With lego.
                </p>

                <p>All the madness brought to you by:</p>
                <ul>
                    <li><a href="https://github.com/afflux">@afflux</a></li>
                    <li><a href="https://github.com/damien72">@damien72</a></li>
                    <li><a href="https://github.com/thusoy">@thusoy</a></li>
                </ul>

                <p>
                    All code is open sourced and can be browsed on GitHub:
                </p>
                <ul>
                    <li><a href="https://github.com/afflux/osnxt">Robot</a></li>
                    <li><a href="https://github.com/thusoy/robertblag">Blog</a></li>
                </ul>

            </div>
        </div>

        <div class="col-sm-9">

            

    <span class="byline">
            Tarjei Hus√∏y, 2013-12-13 11:49:53
    </span>

    
<p>Our lil' friend went through a quite rebellious stage the last days, but we now seem to have outgrown the worst problems - the toddler has started talking! After a lengthy search through available libraries for communicating with NXT devices over bluetooth, we've finally settled on <code>jaraco.nxt</code>, as it's the only one we got working within a reasonable time-frame, has the correct abstraction level and happens to be written in python. And as a bonus, available through PyPI, which makes it all so much more pleasant to get started. Documentation is not great, but the source code is succinct enough to be easily read, and it ships with a couple of working examples to get you started.</p>
<p>Why do we want the bluetooth communication anyway? Purely for debugging purposes. Lil' Bobby is expected to navigate around the playing field on his own, being aware of his own approximate coordinates on the field so that he can avoid colliding with the net, and to be able to throw stuff over the net when that time comes. Implementing this logic would not be too hard in a pure software emulation, but implementing this on a hardware device in, you know, <em>real life</em>, comes the brutality of working with cheap sensors and inaccurate motors. So we use the bluetooth connection purely for debugging, writing out sensor data and debug statements so that we can monitor it during execution.</p>
<p>The logging code we use for monitoring looks like this:</p>
<script src="https://gist.github.com/thusoy/7796033.js"></script>

<p>It's far from perfect though, the NXT will still lose all bluetooth communication quite haphazardly, and can only recover through a reboot. But we now have more uptime than not, a great improvement from the four hours we spent getting to this point, where connections were dropping randomly and the NXT device seemed to respond as predictably to messages as cornstarch do to the latest Kanye single. With this rolling, we managed to teach Bob collision detection and subsequent recovery, and get a rough metric of distance to nearest wall. Videos might or might not follow shortly.</p>

    <a href="/">&larr; Back to main</a>


        </div>
    </div>

    
</body>
</html>